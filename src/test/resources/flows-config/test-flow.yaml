name: testFlow
flow:
  inputs:
    nextScreens:
      - name: test
  testAddressValidation:
    nextScreens:
      - name: testAddressValidationFound
        condition: FoundAddressSuggestion
      - name: testAddressValidationNotFound
        condition: DidNotFindAddressSuggestion
  testAddressValidationFound:
    nextScreens:
      - name: test
  testAddressValidationNotFound:
    nextScreens:
      - name: test
  testAddressVerification:
    nextScreens:
      - name: test
  subflowAddItem:
    subflow: testSubflow
    nextScreens:
      - name: subflowAddItemPage2
  subflowAddItemPage2:
    subflow: testSubflow
    nextScreens:
      - name: test
  test:
    nextScreens:
      - name: success
  pageWithOptionalValidation:
    nextScreens:
      - name: success
  pageWithMultipleValidationInput:
    nextScreens:
      - name: pageWithDefaultSubmitButton
  pageWithDefaultSubmitButton:
    nextScreens:
      - name: pageWithCustomSubmitButton
  pageWithCustomSubmitButton:
    nextScreens:
      - name: success
  success:
    nextScreens: null
subflows:
  testSubflow:
    entryScreen: testEntryScreen
    iterationStartScreen: subflowAddItem
    reviewScreen: testReviewScreen
    deleteConfirmationScreen: testDeleteConfirmationScreen
  subflowWithGetAsLastScreen:
    entryScreen: testEntryScreen
    iterationStartScreen: subflowAddItem
    reviewScreen: testReviewScreen
    deleteConfirmationScreen: testDeleteConfirmationScreen
---
name: otherTestFlow
flow:
  inputs:
    nextScreens:
      - name: test
  subflowAddItem:
    subflow: testSubflow
    nextScreens:
      - name: subflowAddItemPage2
  subflowAddItemPage2:
    subflow: testSubflow
    nextScreens:
      - name: test
  test:
    nextScreens:
      - name: success
subflows:
  testSubflow:
    entryScreen: testEntryScreen
    iterationStartScreen: subflowAddItem
    reviewScreen: testReviewScreen
    deleteConfirmationScreen: testDeleteConfirmationScreen
---
name: testSubflowLogic
flow:
  testEntryScreen:
    nextScreens:
      - name: subflowAddItem
  subflowAddItem:
    subflow: subflowWithGetAtEnd
    nextScreens:
      - name: getScreen
  getScreen:
    subflow: subflowWithGetAtEnd
    nextScreens:
      - name: testReviewScreen
      - name: exampleOtherScreenThatIsInSubflow
        condition: someCondition
  testReviewScreen:
    nextScreens: null
subflows:
  subflowWithGetAtEnd:
    entryScreen: testEntryScreen
    iterationStartScreen: subflowAddItem
    reviewScreen: testReviewScreen
    deleteConfirmationScreen: testDeleteConfirmationScreen
#  subflowWithPostAtEnd:
#    entryScreen: testEntryScreen
#    iterationStartScreen: subflowAddItem
#    reviewScreen: testReviewScreen
#    deleteConfirmationScreen: testDeleteConfirmationScreen
